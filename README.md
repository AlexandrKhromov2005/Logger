# Библиотека для логирования и многопоточное приложение

Этот проект состоит из двух частей:
1. **Библиотека для записи сообщений в журнал** с разными уровнями важности.
2. **Многопоточное консольное приложение**, демонстрирующее использование библиотеки.

## Содержание
- [Сборка проекта](#сборка-проекта)
- [Использование](#использование)
- [Решение проблемы с библиотекой](#решение-проблемы-с-библиотекой)

## Библиотека для логирования
- Поддерживает несколько уровней важности: `DEBUG`, `INFO`, `WARNING`, `ERROR`.
- Записывает сообщения в указанный файл.
- Потокобезопасна благодаря использованию мьютексов.
- Позволяет изменять уровень важности по умолчанию во время выполнения.

## Многопоточное приложение
- Принимает сообщения и уровни важности от пользователя.
- Обрабатывает сообщения в отдельном потоке для асинхронной записи в журнал.
- Корректно завершает работу при завершении программы.

## Сборка проекта

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/AlexandrKhromov2005/Logger.git
   cd Logger
   ```

2. Соберите проект:
   ```bash
   make
   ```

   В результате будут созданы:
   - `libLogger.so`: Динамическая библиотека.
   - `testApp`: Многопоточное приложение.

3. Очистка проекта:
   ```bash
   make clean
   ```

## Использование

### Запуск приложения
Запустите приложение с помощью команды:
```bash
./testApp <файл_журнала> <уровень_важности>
```

- `<файл_журнала>`: Имя файла журнала (например, `test.log`).
- `<уровень_важности>`: Уровень важности по умолчанию (0 - DEBUG, 1 - INFO, 2 - WARNING, 3 - ERROR).

Пример:
```bash
./testApp test.log 1
```

### Взаимодействие с приложением
- Введите сообщение, когда программа запросит.
- Укажите уровень важности (или нажмите Enter, чтобы использовать уровень по умолчанию).
- Введите `exit`, чтобы завершить работу приложения.

### Пример файла журнала
После запуска приложения проверьте файл журнала (например, `test.log`):
```
[2023-10-10 12-34-56][INFO] Это информационное сообщение
[2023-10-10 12-34-57][WARNING] Это предупреждение
```

## Решение проблемы с библиотекой

Если при запуске приложения возникает ошибка:
```
./testApp: error while loading shared libraries: libLogger.so: cannot open shared object file: No such file or directory
```

это означает, что система не может найти библиотеку `libLogger.so`. Вот способ решить эту проблему:

### Использование переменной окружения `LD_LIBRARY_PATH`

Мы указали системе, где искать библиотеку, с помощью переменной окружения `LD_LIBRARY_PATH`.

1. Убедитесь, что `libLogger.so` находится в текущей директории:
   ```bash
   ls libLogger.so
   ```

2. Установите переменную окружения `LD_LIBRARY_PATH` на текущую директорию:
   ```bash
   export LD_LIBRARY_PATH=.
   ```

3. Запустите приложение:
   ```bash
   ./testApp
   ```
